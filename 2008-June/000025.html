<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [HarvestMan-devel] Dev plan for next week....
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/harvestman-devel/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:harvestman-devel%40lists.berlios.de?Subject=Re%3A%20%5BHarvestMan-devel%5D%20Dev%20plan%20for%20next%20week....&In-Reply-To=%3C8548c5f30806162345g75853668gb6540e82e5af5e6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000023.html">
   <LINK REL="Next"  HREF="000026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[HarvestMan-devel] Dev plan for next week....</H1>
    <B>Anand Balachandran Pillai</B> 
    <A HREF="mailto:harvestman-devel%40lists.berlios.de?Subject=Re%3A%20%5BHarvestMan-devel%5D%20Dev%20plan%20for%20next%20week....&In-Reply-To=%3C8548c5f30806162345g75853668gb6540e82e5af5e6%40mail.gmail.com%3E"
       TITLE="[HarvestMan-devel] Dev plan for next week....">abpillai at gmail.com
       </A><BR>
    <I>Tue Jun 17 08:45:07 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000023.html">[HarvestMan-devel] Dev plan for next week....
</A></li>
        <LI>Next message: <A HREF="000026.html">[HarvestMan-devel] Dev plan for next week....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Lucas,


On Mon, Jun 16, 2008 at 8:03 PM, Lukasz Szybalski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/harvestman-devel">szybalski at gmail.com</A>&gt; wrote:
&gt;<i> From the new repository:
</I>&gt;<i> (let me know when you get the svn dump moved over.)
</I>&gt;<i>
</I>&gt;<i> 1. Wrong install folder?
</I>&gt;<i> I was using virtualenv to install harvestmen... but it seems as it
</I>&gt;<i> installed itself in python default location.
</I>&gt;<i> my virtual env path was /usr/local/pythonpath/baseline/...
</I>&gt;<i>
</I>&gt;<i> Not sure if you use &quot;<A HREF="http://pythonpaste.org/script/">http://pythonpaste.org/script/</A>&quot; or your custom
</I>&gt;<i> setup.py etc... <A HREF="http://lucasmanual.com/mywiki/Paste">http://lucasmanual.com/mywiki/Paste</A>
</I>
It is a custom setup.py written by me without using any particular
template. I don't think it will work with virtualenv, though I am yet
to try it. Can you file a bug on this and attach any traceback and
assign it to me ?

&gt;<i>
</I>&gt;<i> error....
</I>&gt;<i> python setup.py install
</I>&gt;<i> ........
</I>&gt;<i> Creating basic configuration in /etc/harvestman...
</I>&gt;<i> done.
</I>&gt;<i> Fresh installation, running unit tests...
</I>&gt;<i> Running test_connector...
</I>&gt;<i> test_connect...
</I>&gt;<i> test_connect_etag...
</I>&gt;<i> test_connect_lmt...
</I>&gt;<i> Running test_urlparser...
</I>&gt;<i> Ran 10 tests, 10 passes, 0 failures
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>  File &quot;setup.py&quot;, line 458, in ?
</I>&gt;<i>    main()
</I>&gt;<i>  File &quot;setup.py&quot;, line 441, in main
</I>&gt;<i>    open(test_log, 'w').write('1')
</I>&gt;<i> IOError: [Errno 2] No such file or directory:
</I>&gt;<i> '/usr/local/lib/python2.4/site-packages/harvestman/unittest.log'
</I>
Hmmm... Clearly the folder /usr/local/lib/python2.4/site-packages/harvestman
is missing. So where did it get installed ? I think perhaps my function which
calculates site-packages folder is wrong ? Can you take a look at it in
setup.py ?

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is there a reason you went with xml config file?
</I>&gt;&gt;&gt;<i> It is really hard to edit xml. I would much prefer python style
</I>&gt;&gt;&gt;<i> configuration.  My first experience was an invalid xml config file
</I>&gt;&gt;&gt;<i> that was one the website as an example.  So I had to use command line
</I>&gt;&gt;&gt;<i> options. But I guess that is something for the future.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do you really think this is a problem ? HarvestMan used to have
</I>&gt;&gt;<i> a Python style (INI style) file format earlier which was easily parseable
</I>&gt;&gt;<i> by ConfigParser . I changed it to an XML format because I thought
</I>&gt;&gt;<i> an XML format would be more universal than the Python style
</I>&gt;&gt;<i> and more flexible and hierarchical.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, there is a tool which will create the XML config file for you
</I>&gt;&gt;<i> from an HTML form in the current svn trunk. Try out tools/genconfig.py
</I>&gt;&gt;<i> and give your feedback.
</I>&gt;<i>
</I>&gt;<i> The genconfig looks good. Its even easier to set it up then editing
</I>&gt;<i> files. It seems to me that xml config style is more similar to lucene
</I>&gt;<i> xml style. It would be easier to create ini file from scratch, but as
</I>&gt;<i> long as there are some tools for making the xml, I think it will be
</I>&gt;<i> ok.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2. I would provide 3 sample config files in &quot;exemples&quot; folder.  a.
</I>&gt;<i> (shortest config.xml), b. standard_config.xml (which is recommended
</I>&gt;<i> way you should crawl pages) and advanced_config.xml that has all the
</I>&gt;<i> options.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 3 . In genconf.py . I  would put a little note under &quot;verbosity 1 is
</I>&gt;<i> abc, 2 is bcd, 3 is dfs....&quot; and the same thing under fetch level,
</I>&gt;<i> since I don't know of hand what options they represent. Everything
</I>&gt;<i> else seems straight forward.
</I>
Good suggestions, will add them.

&gt;<i>
</I>&gt;<i> 4.  I would add a command &quot;harvestman genconf&quot; or &quot;harvestman
</I>&gt;<i> --genconf&quot; to list of available options, so I can call the program
</I>&gt;<i> from a command line.
</I>
Not clear what you mean here. Do you mean that passing --genconf
on the cmd line should try and list *all* the possible XML conf
options ? Or that this should launch the tool ?
&gt;<i>
</I>&gt;<i> 5. I got my config file but:
</I>&gt;<i>  harvestman -c config2.xml Loading system configuration...
</I>&gt;<i> Error assigning option &quot; cache_status &quot;
</I>&gt;<i> Error traceback...
</I>&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/harvestman/lib/config.py&quot;,
</I>&gt;<i> line 691, in set_option_xml
</I>&gt;<i>    self.assign_option(option_val, value)
</I>&gt;<i>  File &quot;/usr/lib/python2.4/site-packages/harvestman/lib/config.py&quot;,
</I>&gt;<i> line 564, in assign_option
</I>&gt;<i>    fval = (eval(typ))(value)
</I>&gt;<i>
</I>&gt;<i> I'm attaching the config file.
</I>
Ah, there is nothing wrong with the conf file. You need to pass &quot;-C&quot;,
not &quot;-c&quot; for accepting a config file on the cmd line. Still, I will add
an exception handler in the param processing code.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you could give me access to wiki, I could put some examples out
</I>&gt;<i> there some time this week.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Lucas
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What kind of gui skeleton you are talking about? web based? I could
</I>&gt;&gt;&gt;<i> easly create something in turbogears.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HarvestMan is already integrated to web.py and I want to use it
</I>&gt;&gt;<i> for doing all browser UI because it is simple and comes with its own
</I>&gt;&gt;<i> templating language which is like Python. Btw, there is already skeleton
</I>&gt;&gt;<i> GUI code available in the trunk. Run &quot;harvestman --ui&quot; and point your
</I>&gt;&gt;<i> browser to <A HREF="http://localhost:5940">http://localhost:5940</A> to see it.
</I>&gt;<i>
</I>&gt;<i> Sounds good. Not sure what you should put there yet? I guess I might
</I>&gt;<i> have more ideas when I start using harvestman.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Lucas
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Where was my car manufactured?
</I>&gt;<i> <A HREF="http://cars.lucasmanual.com/vin">http://cars.lucasmanual.com/vin</A>
</I>&gt;<i> TurboGears Manual-Howto
</I>&gt;<i> <A HREF="http://lucasmanual.com/pdf/TurboGears-Manual-Howto.pdf">http://lucasmanual.com/pdf/TurboGears-Manual-Howto.pdf</A>
</I>&gt;<i>
</I>

Regards
-- 
-Anand

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000023.html">[HarvestMan-devel] Dev plan for next week....
</A></li>
	<LI>Next message: <A HREF="000026.html">[HarvestMan-devel] Dev plan for next week....
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/harvestman-devel">More information about the HarvestMan-devel
mailing list</a><br>
</body></html>
